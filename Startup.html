<!DOCTYPE html>
<html>
<head>
    <title>Student List</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <style>
        #student-list {
            list-style-type: none;
            margin: 0;
            padding: 0;
        }

        #student-list li {
            margin: 10px 0;
            border-bottom: 1px solid #ddd;
        }

        #student-list li:last-child {
            border-bottom: none;
        }
    </style>
</head>
<body>
<h2>Student List</h2>
<input id="search" placeholder="Search students..." type="text" list="student-list">
<datalist id="student-list">
</datalist>
<script>
    $(document).ready(function () {
        let students = [];

        function fullName(student) {
            return student.FirstName + ' ' + student.LastName;
        }

        // // Fetch student data
        $.get('http://localhost:20803/api/students', function (data) {
            students = data;
            updateStudentList(students);
        });

        // Handle search input
        $('#search').on('input', function () {
            const query = $(this).val().toLowerCase();
            const filteredStudents = students.filter(student => fullName(student).toLowerCase().includes(query));
            updateStudentList(filteredStudents);
        });

        function updateStudentList(studentData) {
            $('#student-list').empty();
            studentData.forEach(student => {
                $('#student-list').append('<option>' + fullName(student) + '</option>');
            });
        }
    });
</script>
</body>
</html>
